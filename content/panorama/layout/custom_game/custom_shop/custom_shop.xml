<root>
	<styles>
		<include src="s2r://panorama/styles/dotastyles.vcss_c" />
		<include src="s2r://panorama/styles/hudstyles.vcss_c" />
		<include src="s2r://panorama/styles/custom_game/custom_shop/custom_shop.css" />
		<include src="s2r://panorama/styles/custom_game/custom_shop/custom_shop_item.css" />
		<include src="s2r://panorama/styles/custom_game/custom_shop/item_combines.css" />
		<include src="s2r://panorama/styles/custom_game/custom_shop/common_items.css" />
	</styles>
 
	<scripts>
		<include src="file://{resources}/scripts/custom_game/util.js" />
		<include src="file://{resources}/scripts/custom_game/custom_shop/items.js" />
		<include src="file://{resources}/scripts/custom_game/custom_shop/item_combines.js" />
		<include src="file://{resources}/scripts/custom_game/custom_shop/common_items.js" />
		<include src="file://{resources}/scripts/custom_game/custom_shop/custom_shop.js" />
    </scripts>

	<script>
		function SetSearchFocus()
		{
		$( "#SearchTextEntry" ).SetFocus();
		}

		function ClearSearch()
		{
		$.DispatchEvent( "DOTAShopCancelSearch" );
		$( "#SearchTextEntry" ).text = "";
		}
	</script>

	<snippets>
		<snippet name="ShopItem">
			<Panel class="CustomShopItem" >
				<DOTAItemImage id="ItemImage" hittest="false" />
				<Panel id="CanPurchaseOverlay" hittest="false" />
				<Panel id="PopularOverlay" hittest="false">
					<Panel id="PopularIcon" hittest="false"/>
				</Panel>
				<Panel id="PlayerSuggestedOverlay" hittest="false" />
				<Panel id="OwnedTick" hittest="false" />
				<Panel id="SecretShop" hittest="false" />
				<Label id="StockAmount" text="{u:stock_amount}" />
				<Panel id="OutOfStockOverlay" hittest="false" />
				<Label id="SuggestionPct" hittest="false" text="{s:suggestion_pct}%"/>
				<Panel id="SequenceArrow" hittest="false"/>
			</Panel>
		</snippet>

		<snippet name="SearchResult">
			<Panel class="SearchResult" >
				<Button id="ShopItem" hittest="false" />
				<Label id="ItemName" text="{s:item_name}" hittest="false" />
				<Label id="ItemCost" text="{u:item_cost}" hittest="false" />
			</Panel>
		</snippet>

	</snippets>

	<Panel class="CustomShop" acceptfocus="true" onfocus="DropInputFocus()" oncancel="DOTAShopHideShop()" require-composition-layer="true" always-cache-composition-layer="true">
		
		
		<Panel id="Main">

			<Panel id="ItemCombines">
				<Panel id="ConnectorsContainer" >
					<Panel id="Test" class="Connector"/>
				</Panel>
				<Panel id="ItemsContainer" />
			</Panel>

			<Panel id="HeightLimiter" >
				<Panel id="HeightLimiterContainer"/>
				<Panel id="SearchContainer" acceptsfocus="true" onfocus="DropInputFocus()">
					<Panel id="SearchBox">
						<Panel id="ShopSearchIcon" onactivate="SetSearchFocus();" />
						<TextEntry id="SearchTextEntry" placeholder="#DOTA_Search" ontextentrychanged="Search()"/>
						<Button id="ClearSearchButton" class="CloseButton" onactivate="ClearSearch();" />
					</Panel>
				</Panel>

				<!--<Panel id="GridMainShop" class="ShowPopular ShowHilight">
					<Button id="RequestSuggestion" onactivate="" onmouseout="UIHideTextTooltip();" onmouseover="UIShowTextTooltip( #DOTA_Shop_Tip_RequestSuggestion );" onload="DOTAAttachHelpTip( 'suggested_items' )" >
						<Panel id="RequestSuggestionIcon" />
						<DOTAHeroImage id="RequestSuggestionHeroImage" heroimagestyle="icon" />
					</Button>

					<Panel id="GridMainTabs" hittest="false" >
						<DropDown id="TabPicker" />
					</Panel>

					<Button id="PopularItems" onactivate="ToggleStyle( 'GridMainShop', 'ShowPopular' );" onmouseout="UIHideTextTooltip();" onmouseover="UIShowTextTooltip( #DOTA_Shop_Tip_Popular );">
						<Panel id="PopularItemsIcon"/>
					</Button>

					<Panel id="GridMain" hittest="false" >
						<Panel id="GridBasic" class="ShopItemsColumns" />
					</Panel>
				</Panel>!-->

				<Panel id="CommonItems" >
					<Panel id="CommonItemTitleContainer">
						<Label class="CommonItemsTitle" text="#dota_item_build_common_items" />
						 <Button id="EditButton" onactivate="ToggleEditCommonItemsMode();" onmouseout="UIHideTextTooltip();" onmouseover="UIShowTextTooltip(#DOTA_Shop_Tip_EditCommonItems );"/>
					</Panel>
					<Panel id="ItemList">
						<!-- items filled from code -->
					</Panel>
				</Panel>

			</Panel>

		</Panel>
	</Panel>
</root>
